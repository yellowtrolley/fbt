{{#if item.isError}}
  Error!!
  {{#each item.errors as |error|}}
    {{error}}
  {{/each}}
{{/if}}

{{#bs-form formLayout="vertical" action="buttonClicked" model=item as |form|}}
  {{form.element controlType="text" label="Item name" placeholder="Item name" property="name"}}
  {{form.element controlType="number" label="Unit price" placeholder="Unit price" property="price"}}
  {{#form.element label="Categories" property="categories" useIcons=false as |el|}}
    
      {{#power-select-multiple
          options=categories
          selected=item.categories
          placeholder="Select some categories..."
          onchange=(action (mut item.categories))
          as |category|
      }}
        {{category.name}}
      {{/power-select-multiple}}
  {{/form.element}}
  {{form.element controlType="text" label="Description" placeholder="Description" property="description"}}
  {{form.element controlType="textarea" label="Long description" placeholder="Long description" property="long_description"}}

{{!--  {{#file-dropzone name="images" as |dropzone queue|}}
    {{#if dropzone.active}}
      {{#if dropzone.valid}}
        Drop to upload
      {{else}}
        Invalid
      {{/if}}
    {{else if queue.files.length}}
      Uploading {{queue.files.length}} files. ({{queue.progress}}%)
    {{else}}
      <h4>Upload Images</h4>
      <p>
        {{#if dropzone.supported}}
          Drag and drop images onto this area to upload them or
        {{/if}}
        {{#file-upload name="images"
                       accept="image/*"
                       multiple=true
                       onfileadd=("uploadImage")}}
          <a id="upload-image" tabindex=0>Add an Image.</a>
        {{/file-upload}}
      </p>
    {{/if}}
  {{/file-dropzone}} --}}

  {{x-file-input}}

  {{bs-button defaultText="Add" type="primary" buttonType="submit" onClick=(action "buttonClicked" item)}}
{{/bs-form}}
